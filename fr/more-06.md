---
title: "Étendre les possibilités de LaTeX avec des packages et des définitions : pour aller plus loin"
---

## Charger plusieurs packages à la fois

La commande `\usepackage` prend une liste de packages séparés par des virgules,
ce qui permet d'en charger plusieurs en une seule fois :
`\usepackage{color,graphicx}` par exemple. Dans ce cas, si vous passez des
options à `\usepackage`, elles s'appliqueront à tous les package de la liste,
ce qui n'est pas forcément ce que vous voulez. De plus, il est sans doute plus
facile de commenter les packages s'ils sont chargés séparément. Nous nous en
tiendrons donc ici à charger chaque package sur une ligne séparée.


## Le package `babel`

Nous avons présenté le package `babel` [dans la leçon principale](lesson-06)
comme un moyen de choisir différents motifs de césure. Il fait beaucoup plus
que cela, selon la ou les langues utilisées. Par exemple, en allemand, il
fournit des raccourcis pour créer des traits d'union conditionnels, et aussi
un moyen de taper rapidement des _umlauts_ (trémas) sans avoir besoin d'un
clavier allemand. Note also how the section heading  _Table of Contents_
normally generated by `\tableofcontents` is changed to
the German Inhaltsverzeichnis.

```latex
\documentclass{article}
\usepackage[T1]{fontenc}

\usepackage[ngerman]{babel} % 'ngerman' est l'option pour Babel

\begin{document}

\tableofcontents

\section{"Uber "Apfel und Birnen}

\subsection{Äpfel}
Äpfel sind rot.

\subsection{Birnen}
Birnen sind gelb.


\end{document}
```

D'autres paramètres linguistiques apportent des modifications à la mise en
forme : par exemple, dans la typographie française traditionnelle, il y a une
espace avant certains signes de ponctuation, comme `:`, et celle-ci est ajoutée
automatiquement si vous chargez `babel` avec l'option `french`.


## Options globales

Parfois, vous souhaitez qu'une option soit disponible pour tous les packages que
vous avez chargés. Pour ce faire, il suffit de le signaler sur la ligne
`\documentclass` : ainsi, chaque package peut « voir » cette liste. Donc, pour
passer la langue d'un document à tous les packages, on peut utiliser :

```latex
\documentclass[ngerman]{article} % 'ngerman' est l'option pour tous les packages
\usepackage[T1]{fontenc}

\usepackage{babel}

\begin{document}

\tableofcontents

\section{"Uber "Apfel und Birnen}

\subsection{Äpfel}
Äpfel sind rot.

\subsection{Birnen}
Birnen sind gelb.

\end{document}
```

## More definitions

`\newcommand` allows commands with up to nine arguments, the first of which may be optional.

If we take the example from the main lesson, we could make the color
optional, defaulting to blue.

```
\documentclass{article}
\usepackage[T1]{fontenc}

\usepackage{xcolor}

\newcommand\kw[2][blue]{\textcolor{#1}{\itshape #2}}

\begin{document}

Something about \kw{apples} and \kw[red]{oranges}.

\end{document}
```

Optional arguments are delimited with `[]` and if omitted, the default
value specified in the definition is used.

## `\NewDocumentCommand`

From the October 2020 LaTeX release, an extended definition system is available.
In older LaTeX releases this was available via the `xparse` package which we use
here for compatibility.

We can repeat the above example but using `\NewDocumentCommand`

```
\documentclass{article}
\usepackage[T1]{fontenc}

\usepackage{xparse} % Only needed for older LaTeX releases
\usepackage{xcolor}

\NewDocumentCommand\kw{O{blue} m}{\textcolor{#1}{\itshape #2}}

\begin{document}

Something about \kw{apples} and \kw[red]{oranges}.

\end{document}
```

Just as with `\newcommand`, `\NewDocumentCommand` takes the command
being defined (`\kw` here) and the definition body, using `#1` to `#9`
for the arguments, however the difference is in how the arguments are
specified.

Unlike `\newcommand` where just the number of arguments is given,
optionally supplying a default for the first, with
`\NewDocumentCommand` each argument is specified by a letter so a two
argument command would be specified by `{mm}` rather than `[2]`. This
is slightly more verbose but allows many more forms of commands to be
defined. Here we just give this simple example where the first
argument is optional, defaulting to blue (`O{blue}`) and the second
argument is mandatory (`m`).
